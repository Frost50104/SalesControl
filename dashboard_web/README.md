# SalesControl Dashboard

Web-интерфейс для просмотра аналитики допродаж SalesControl.

## Возможности

- **Обзор** - сводные показатели за день: количество диалогов, попытки допродажи, качество, категории
- **Диалоги** - список диалогов с фильтрацией и детальным просмотром
- **Проверка** - human-in-the-loop workflow для ручной проверки и разметки диалогов
- **Графики** - динамика по часам, распределение качества, топ категорий
- **Безопасность** - токен хранится только в sessionStorage браузера

## Human-in-the-loop

Раздел "Проверка" позволяет:
- Отмечать диалоги как "спорные" с указанием причины
- Вносить ручные исправления результатов анализа
- Запускать переанализ диалога (re-run LLM)
- Экспортировать датасет размеченных диалогов в CSV/JSON для улучшения модели

Причины для флага:
- `bad_asr` - плохое распознавание речи
- `llm_missed_upsell` - LLM пропустила допродажу
- `llm_false_positive` - ложное срабатывание LLM
- `wrong_quality` - неверная оценка качества
- `wrong_category` - неверная категория
- `other` - другое

## Локальная разработка

```bash
cd dashboard_web
npm install
npm run dev
```

Откройте http://localhost:3000

## Docker сборка

```bash
docker build -t salescontrol-dashboard .
docker run -p 8080:80 salescontrol-dashboard
```

## Использование

1. Откройте http://localhost:8080
2. Введите URL API (по умолчанию http://localhost:8000)
3. Введите ADMIN_TOKEN
4. Нажмите "Войти"

## Технологии

- React 18 + TypeScript
- Vite
- Tailwind CSS
- Recharts
- date-fns
